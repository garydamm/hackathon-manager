# Progress Log

## Learnings
(Patterns discovered during implementation)

- Backend is Kotlin + Spring Boot in `src/main/kotlin/com/hackathon/manager/`
- Controllers in `controller/` directory, services in `service/` directory
- Use `@Transactional` without readOnly for write operations
- Use `ApiException` with HttpStatus for error handling
- Frontend service uses api.delete<T> for DELETE requests
- Typecheck: `./gradlew compileKotlin` for backend, `npx tsc --noEmit` for frontend
- Tests: `./gradlew test` for backend

---

## Iteration 1 - US-001: Add unregister backend endpoint
- What was implemented:
  - Added `DELETE /api/hackathons/{id}/register` endpoint to HackathonController
  - Added `unregisterForHackathon` method to HackathonService (validates registration, deletes HackathonUser, returns updated count)
  - Added `unregister(hackathonId: string)` method to frontend hackathonService
- Files changed:
  - src/main/kotlin/com/hackathon/manager/controller/HackathonController.kt
  - src/main/kotlin/com/hackathon/manager/service/HackathonService.kt
  - frontend/src/services/hackathons.ts
- Learnings for future iterations:
  - Follow existing register pattern for unregister (same endpoint path, different HTTP method)
  - HackathonUserRepository has `findByHackathonIdAndUserId` to lookup registration
  - After deletion, recalculate participant count to return in response
---

## Iteration 2 - US-002: Add Registered badge to hackathon detail page
- What was implemented:
  - Added "Registered" badge next to status badge in ViewMode component
  - Badge displays when `hackathon.userRole === 'participant'`
  - Uses green styling (bg-green-100 text-green-700) with CheckCircle icon from lucide-react
  - Badge positioned in header area near hackathon title/status
- Files changed:
  - frontend/src/pages/HackathonDetail.tsx
- Learnings for future iterations:
  - Status badges in header area are in ViewMode component around line 200
  - Use `inline-flex items-center gap-1` for badge with icon
  - CheckCircle icon from lucide-react works well for "Registered" status
  - userRole field on Hackathon indicates registration status ('participant' = registered)
---
