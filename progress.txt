# Progress Log

## Learnings
(Patterns discovered during implementation)
- MCP SDK 0.8.3 requires Kotlin 2.2.0+ and Ktor 3.2.3 — metadata version 2.2.0 is unreadable by Kotlin < 2.2
- Gradle multi-project builds share Kotlin plugin version — can't have root at 1.9.22 and subproject at 2.2.0
- Kotlin 2.2.0 makes `kotlinOptions` an error — must use `compilerOptions` DSL with `JvmTarget.JVM_17`
- `jvmToolchain(17)` fails if JDK 17 isn't installed — use `compilerOptions { jvmTarget }` instead for cross-compilation
- Shadow plugin moved from `com.github.johnrengelman.shadow` to `com.gradleup.shadow` for Gradle 8.x compatibility
- The `kotlin-sdk` artifact is a BOM/aggregate; actual server code is in `kotlin-sdk-server` (pulled transitively)
- `kotlin("plugin.serialization")` must be declared `apply false` in root for subproject to use it without version

---

## Iteration 1 - US-001: Set up MCP server Gradle subproject
- Added `include("mcp-server")` to settings.gradle.kts
- Created `mcp-server/build.gradle.kts` with Kotlin 2.2.0, MCP SDK 0.8.3, Ktor 3.2.3, Shadow plugin
- Created placeholder `mcp-server/src/main/kotlin/com/hackathon/mcp/Main.kt`
- Upgraded root project Kotlin from 1.9.22 → 2.2.0 (required for MCP SDK compatibility)
- Migrated root `kotlinOptions` → `compilerOptions` DSL (required by Kotlin 2.2.0)
- Added `kotlin("plugin.serialization") version "2.2.0" apply false` to root plugins
- Files changed:
  - settings.gradle.kts (added include)
  - build.gradle.kts (Kotlin 2.2.0, compilerOptions DSL, serialization plugin)
  - mcp-server/build.gradle.kts (new)
  - mcp-server/src/main/kotlin/com/hackathon/mcp/Main.kt (new)
- All backend tests pass, both builds succeed
---
