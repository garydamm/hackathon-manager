# Progress Log

## Learnings
- Frontend has no `typecheck` npm script; use `npx tsc -b` directly for type checking
- Component testing pattern: vitest + @testing-library/react + userEvent for interactions
- Use `cn()` from `@/lib/utils` for conditional Tailwind class merging
- Tailwind v4 with CSS variables (@theme) — no tailwind.config.js file
- Hidden scrollbar: use inline styles `scrollbarWidth: 'none'`, `msOverflowStyle: 'none'`

---

## Iteration 1 - US-001: Create SectionNav Component
- Created `frontend/src/components/SectionNav.tsx` — sticky horizontal tab bar component
  - Accepts `sections` (id, label, disabled), `activeId`, `onTabClick`, `stickyTop`, `className`
  - Active tab: `border-b-2 border-primary text-foreground`
  - Inactive: `text-muted-foreground hover:text-foreground`
  - Disabled: `text-muted-foreground/50 cursor-not-allowed`, no hover, aria-disabled, tabIndex -1
  - Sticky with `z-40`, configurable `stickyTop` (default `top-16`), `bg-background`, `border-b`
  - Horizontal scroll with hidden scrollbar for mobile
  - Minimum touch target 44px (`min-h-[44px]`)
  - ARIA: `role="tablist"` on nav, `role="tab"` + `aria-selected` on buttons
- Created `frontend/src/components/SectionNav.test.tsx` — 19 unit tests all passing
- Files changed: `SectionNav.tsx`, `SectionNav.test.tsx`
- Learnings:
  - No scrollbar-hide utility in Tailwind v4 by default; used inline styles instead
  - `userEvent.setup()` needed before interactions in vitest + testing-library
---

## Iteration 2 - US-002: Add section anchors and integrate SectionNav into HackathonDetail
- Modified `frontend/src/pages/HackathonDetail.tsx` — integrated SectionNav into ViewMode
  - Added `SectionNav` import and `SectionNavItem` type import
  - Added `useCallback`, `useMemo` imports from React
  - Computed `sections` list with disabled states based on user role and hackathon state:
    - Overview: never disabled
    - Organizers: never disabled
    - Participants: disabled when not authenticated
    - Teams: disabled when hackathon not in registration_open/in_progress
    - Projects: never disabled
    - Schedule: disabled when not organizer
    - Judging: disabled when not organizer
    - Leaderboard: disabled when not organizer
    - Results: disabled when organizer OR (not participant AND hackathon not completed)
  - SectionNav placed between Quick Info cards and content sections
  - Each section wrapped with `id` attribute and `scrollMarginTop: "112px"` inline style
  - Overview groups About/Rules/Team Settings in a single `id="overview"` div
  - Judging groups JudgingCriteriaSection + JudgesSection in a single `id="judging"` div
  - `handleTabClick` uses `scrollIntoView` with smooth/auto based on `prefers-reduced-motion`
- Files changed: `HackathonDetail.tsx`
- Learnings:
  - Conditionally rendered sections (organizer-only) can still have nav tabs — tab is disabled + section not in DOM, so clicking does nothing gracefully (getElementById returns null)
  - `scrollMarginTop` as inline style works well for the scroll-offset needed for sticky headers
  - `useAuth()` was already imported in the file scope but needed within ViewMode for isAuthenticated check
---
