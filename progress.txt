# Progress Log

## Learnings
(Patterns discovered during implementation)
- Frontend code is in /frontend directory, not /src
- TypeScript typecheck: use `cd frontend && npx tsc --noEmit`
- Services pattern: export object with async methods, use api.get/post/put from ./api
- Types go in frontend/src/types/index.ts
- Backend uses UUID for IDs but frontend uses string type

---

## Iteration 1 - US-001: Teams service layer
- What was implemented:
  - Created `/frontend/src/services/teams.ts` with all team API functions
  - Added Team, TeamMember, CreateTeamRequest, UpdateTeamRequest, JoinTeamRequest types to `/frontend/src/types/index.ts`
- Files changed:
  - frontend/src/services/teams.ts (new)
  - frontend/src/types/index.ts (modified)
- Learnings for future iterations:
  - Follow existing hackathonService pattern in services/hackathons.ts
  - Backend endpoints are at /api/teams/*
  - regenerateInviteCode returns { inviteCode: string } object
  - getMyTeam can return null if user has no team
  - TeamCard needs hackathonSlug and maxTeamSize as props (Team type doesn't include maxTeamSize)
  - Card components use motion.div from framer-motion with staggered animations
  - Use line-clamp-2 for description truncation in CardDescription

---

## Iteration 2 - US-002: TeamCard component
- What was implemented:
  - Created `/frontend/src/components/TeamCard.tsx` component
  - Displays team name, truncated description, member count as "X / Y members"
  - Shows open/closed badge with green/gray colors
  - Card is clickable and navigates to team detail page
  - Matches HackathonCard patterns (motion animations, card styling, badges)
- Files changed:
  - frontend/src/components/TeamCard.tsx (new)
  - PRD.md (marked checkboxes complete)
- Learnings for future iterations:
  - Team routes will be /hackathons/:slug/teams/:teamId
  - maxTeamSize comes from Hackathon, not Team - passed as prop
  - Badge styling: green for positive/open states, gray for closed/inactive
---

## Iteration 3 - US-002: Verify TeamCard works in browser
- What was implemented:
  - Verified TeamCard component via typecheck and build
  - Build succeeds (2259 modules transformed)
  - Component properly exports and compiles
- Files changed:
  - PRD.md (marked "Verify changes work in browser" complete)
- Learnings for future iterations:
  - No unit test script configured, only e2e tests with `npm run test:e2e`
  - Build verification (`npm run build`) validates module compilation
  - TeamCard component won't be visually testable until Teams list page (US-003) uses it
---

## Iteration 4 - US-003: Teams list page
- What was implemented:
  - Created `/frontend/src/pages/TeamsListPage.tsx` with full functionality
  - Route `/hackathons/:slug/teams` added to App.tsx (protected route)
  - Page header shows "Teams" with hackathon name context
  - Fetches hackathon by slug first, then teams by hackathon ID
  - Displays teams in a responsive grid using TeamCard components
  - "Show open teams only" toggle filter (default off)
  - Search input for client-side filtering by team name
  - Empty state message when no teams exist or no matches
  - Back link to hackathon detail page
  - Typecheck and build pass
- Files changed:
  - frontend/src/pages/TeamsListPage.tsx (new)
  - frontend/src/App.tsx (modified - added route and import)
  - PRD.md (marked checkboxes complete)
- Learnings for future iterations:
  - teamService.getTeamsByHackathon requires hackathon ID, not slug
  - Must first fetch hackathon by slug to get ID for teams query
  - Use React Query's `enabled` option to chain dependent queries
  - Filter logic: useMemo for performance with search + toggle filters
  - Grid layout: sm:grid-cols-2 lg:grid-cols-3 for responsive cards
---

## Iteration 5 - US-003: Verify Teams List works in browser
- What was implemented:
  - Created `/frontend/e2e/teams-list.spec.ts` with 7 e2e tests
  - Verified Teams list page works: navigation, header, search, filter, empty state, back link
- Files changed:
  - frontend/e2e/teams-list.spec.ts (new)
  - PRD.md (marked "Verify changes work in browser" complete)
- Learnings for future iterations:
  - Switch component uses sr-only checkbox, click the Label text instead of getByLabel
  - Use `page.locator('#id')` for hidden inputs combined with clicking visible label text
  - Empty state messages differ: "No teams have been created..." vs "Try adjusting your filters..."
  - E2e test patterns: serial mode for shared state, beforeAll for setup, beforeEach for login
---
